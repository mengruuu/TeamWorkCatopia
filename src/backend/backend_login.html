<!DOCTYPE html>
<html lang="en">

<head>
    @@include('./layout/meta.html', {
        "title" : "Catopia 後台 Login"
        })
    <link rel="stylesheet" href="../css/backend/backend_style.css">
    <link rel="stylesheet" href="../css/backend/back_login.css">

</head>

<body>

    <div class="back_login_container">
        <div class="back_login_logo">
            <img src="../images/backend/back_logo.png">
        </div>

        <div class="back_login_block">
            <p>後台</p>
        </div>

        <div class="back_login_title">
            <p>管理員入口</p>
        </div>

        <form action="#">
            <div class="back_login_input">
                <p>帳號：</p>
                <input type = "text" value="qaz123@gmail.com" id="member_mail">
            </div>
    
            <div class="back_login_input">
                <p>密碼：</p>
                <input type = "password" value="QA12345678" id="member_password">
            </div>
            
            <div class="back_login_button">
                <a><button type = "button" onclick="member_login()">登入</button></a>
            </div>
        </form>
        
    </div>

    <script>
        function member_login(){
            $.ajax({
                method:'POST',
                url:'./API/backend_login.php',
                data:{
                    email:$('#member_mail').val(),
                    password:$('#member_password').val(),
                },
                dataType:'json',
                success:function(response){
                    if(response == 'false'){
                        alert('帳號或密碼錯誤');
                    }else{
                        window.location.href = `./manager_center.html`;
                    }
                },
                error: function(exception) {
                 alert("發生錯誤: " + exception.status); 
             }
            })
        }
    </script>
</body>

</html>